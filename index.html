<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>tcomb by gcanti</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>tcomb</h1>
        <p>JavaScript types and combinators</p>

        <p class="view"><a href="https://github.com/gcanti/tcomb">View the Project on GitHub <small>gcanti/tcomb</small></a></p>


        <ul>
          <li><a href="https://github.com/gcanti/tcomb/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/gcanti/tcomb/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/gcanti/tcomb">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="tcomb" class="anchor" href="#tcomb"><span class="octicon octicon-link"></span></a>tcomb</h1>

<p>tcomb is a library which allows you to <strong>check the types</strong> of JavaScript values at runtime with a <strong>simple syntax</strong>. It is great for checking external input, for testing and for adding safety to your internal code. Bonus points: </p>

<ul>
<li>write complex domain models in a breeze and with small code footprint</li>
<li>easy debugging</li>
<li>
<strong>instances are immutables</strong> by default</li>
<li>encode/decode of domain objects to/from JSON for free</li>
<li>make your existing code safer gradually</li>
</ul><p>The library provides several type combinators and a built-in <code>assert</code> function. When an assertion fails the library <strong>starts the debugger</strong> so you can inspect the stack and quickly find out what's wrong.</p>

<p>You can check:</p>

<ul>
<li>JavaScript native types

<ul>
<li>Nil: <code>null</code> and  <code>undefined</code>
</li>
<li>Str: strings</li>
<li>Num: numbers</li>
<li>Bool: booleans</li>
<li>Arr: arrays</li>
<li>Obj: plain objects</li>
<li>Func: functions</li>
<li>Err: errors</li>
</ul>
</li>
<li>structs (i.e. classes)</li>
<li>unions</li>
<li>maybe</li>
<li>enums</li>
<li>tuples</li>
<li>subtypes</li>
<li>lists</li>
<li>function types (experimental)</li>
</ul><h2>
<a name="quick-examples" class="anchor" href="#quick-examples"><span class="octicon octicon-link"></span></a>Quick examples</h2>

<h3>
<a name="lets-build-a-new-product-model" class="anchor" href="#lets-build-a-new-product-model"><span class="octicon octicon-link"></span></a>Let's build a new product model</h3>

<div class="highlight highlight-javascript"><pre><span class="c1">// a struct</span>
<span class="kd">var</span> <span class="nx">Product</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="nx">Str</span><span class="p">,</span>                  <span class="c1">// required string</span>
    <span class="nx">description</span><span class="o">:</span> <span class="nx">maybe</span><span class="p">(</span><span class="nx">Str</span><span class="p">),</span>    <span class="c1">// optional string, can be null or undefined</span>
    <span class="nx">homepage</span><span class="o">:</span> <span class="nx">Url</span><span class="p">,</span>              <span class="c1">// a subtype of a string</span>
    <span class="nx">shippings</span><span class="o">:</span> <span class="nx">list</span><span class="p">(</span><span class="nx">Str</span><span class="p">),</span>       <span class="c1">// a list of shipping methods</span>
    <span class="nx">category</span><span class="o">:</span> <span class="nx">Category</span><span class="p">,</span>         <span class="c1">// an enumeration</span>
    <span class="nx">price</span><span class="o">:</span> <span class="nx">union</span><span class="p">(</span><span class="nx">Num</span><span class="p">,</span> <span class="nx">Price</span><span class="p">),</span>   <span class="c1">// a price expressed in dollars OR in another currency</span>
    <span class="nx">dim</span><span class="o">:</span> <span class="nx">tuple</span><span class="p">([</span><span class="nx">Num</span><span class="p">,</span> <span class="nx">Num</span><span class="p">])</span>      <span class="c1">// a tuple (width, height)</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Url</span> <span class="o">=</span> <span class="nx">subtype</span><span class="p">(</span><span class="nx">Str</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'http://'</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Category</span> <span class="o">=</span> <span class="nx">enums</span><span class="p">({</span>
    <span class="nx">audio</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">video</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Price</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
    <span class="nx">currency</span><span class="o">:</span> <span class="nx">Str</span><span class="p">,</span>
    <span class="nx">amount</span><span class="o">:</span> <span class="nx">Num</span>
<span class="p">});</span>

<span class="c1">// JSON of a product</span>
<span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">'iPod'</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s1">'Engineered for maximum funness.'</span><span class="p">,</span>
    <span class="nx">homepage</span><span class="o">:</span> <span class="s1">'http://www.apple.com/ipod/'</span><span class="p">,</span>
    <span class="nx">shippings</span><span class="o">:</span> <span class="p">[</span><span class="s1">'Same Day'</span><span class="p">,</span> <span class="s1">'Next Businness Day'</span><span class="p">],</span>
    <span class="nx">category</span><span class="o">:</span> <span class="s1">'audio'</span><span class="p">,</span>
    <span class="nx">price</span><span class="o">:</span> <span class="p">{</span><span class="nx">currency</span><span class="o">:</span> <span class="s1">'EUR'</span><span class="p">,</span> <span class="nx">amount</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span>
    <span class="nx">dim</span><span class="o">:</span> <span class="p">[</span><span class="mf">2.4</span><span class="p">,</span> <span class="mf">4.1</span><span class="p">]</span>
<span class="p">};</span>

<span class="c1">// get an immutable instance</span>
<span class="kd">var</span> <span class="nx">ipod</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
</pre></div>

<h3>
<a name="you-have-existing-code-and-you-want-to-add-safety" class="anchor" href="#you-have-existing-code-and-you-want-to-add-safety"><span class="octicon octicon-link"></span></a>You have existing code and you want to add safety</h3>

<div class="highlight highlight-javascript"><pre><span class="c1">// your code: plain old JavaScript class</span>
<span class="kd">function</span> <span class="nx">Point</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">);</span> <span class="c1">// silent error</span>
</pre></div>

<p>in order to "tcombify" your code you can simply add some assertion</p>

<div class="highlight highlight-javascript"><pre><span class="kd">function</span> <span class="nx">Point</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">Num</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">x</span><span class="p">));</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">Num</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">y</span><span class="p">));</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">);</span> <span class="c1">// =&gt; fail! debugger kicks in</span>
</pre></div>

<h2>
<a name="setup" class="anchor" href="#setup"><span class="octicon octicon-link"></span></a>Setup</h2>

<p>Node</p>

<pre><code>npm install tcomb

var t = require('tcomb');
</code></pre>

<p>Browser</p>

<p>This library uses a few ES5 methods</p>

<ul>
<li><code>Array#forEach()</code></li>
<li><code>Array#map()</code></li>
<li><code>Array#some()</code></li>
<li><code>Array#every()</code></li>
<li><code>Object#keys()</code></li>
</ul><p>you can use <code>es5-shim</code> to support old browsers</p>

<div class="highlight highlight-html"><pre><span class="c">&lt;!--[if lt IE 9]&gt;</span>
<span class="c">&lt;script src="es5-shim.min.js"&gt;&lt;/script&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"tcomb.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<h2>
<a name="tests" class="anchor" href="#tests"><span class="octicon octicon-link"></span></a>Tests</h2>

<p>Run</p>

<pre><code>mocha
</code></pre>

<p>in the project root.</p>

<h2>
<a name="whats-a-type" class="anchor" href="#whats-a-type"><span class="octicon octicon-link"></span></a>What's a type?</h2>

<p>In tcomb a <code>type</code> is a function <code>T</code> such that</p>

<ol>
<li>
<code>T</code> has signature <code>T(values, [mut])</code> where <code>values</code> depends on the nature of <code>T</code> and the optional boolean arg <code>mut</code> makes the instance mutable (default <code>false</code>)</li>
<li>
<code>T</code> is idempotent: <code>new T(new T(values)) "equals" new T(values)</code>
</li>
<li>
<code>T</code> owns a static function <code>T.is(x)</code> returning <code>true</code> if <code>x</code> is a instance of <code>T</code>
</li>
</ol><p><strong>Note</strong>: 2. implies that <code>T</code> can be used as a default JSON decoder</p>

<h2>
<a name="api" class="anchor" href="#api"><span class="octicon octicon-link"></span></a>Api</h2>

<h3>
<a name="assertguard-message" class="anchor" href="#assertguard-message"><span class="octicon octicon-link"></span></a>assert(guard, [message]);</h3>

<p>If <code>guard !== true</code> the debugger kicks in.</p>

<ul>
<li>
<code>guard</code> boolean condition</li>
<li>
<code>message</code> optional string useful for debugging</li>
</ul><h3>
<a name="structprops-name" class="anchor" href="#structprops-name"><span class="octicon octicon-link"></span></a>struct(props, [name])</h3>

<p>Defines a struct like type.</p>

<ul>
<li>
<code>props</code> hash name -&gt; type</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="s2">"use strict"</span><span class="p">;</span>

<span class="c1">// define a struct with two numerical props</span>
<span class="kd">var</span> <span class="nx">Point</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
    <span class="nx">x</span><span class="o">:</span> <span class="nx">Num</span><span class="p">,</span>
    <span class="nx">y</span><span class="o">:</span> <span class="nx">Num</span>
<span class="p">});</span>

<span class="c1">// methods are defined as usual</span>
<span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'('</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">')'</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// building an instance is simple as</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>

<span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// =&gt; TypeError, p is immutable</span>

<span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="kc">true</span><span class="p">);</span> <span class="c1">// now p is mutable</span>

<span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// ok</span>
</pre></div>

<h4>
<a name="isx" class="anchor" href="#isx"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> is an instance of <code>Point</code>.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Point</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span> <span class="c1">// =&gt; true</span>
</pre></div>

<h4>
<a name="updateinstance-updates-mut" class="anchor" href="#updateinstance-updates-mut"><span class="octicon octicon-link"></span></a>update(instance, updates, [mut])</h4>

<p>Returns an instance with changed props, without modifying the original.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Point</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">3</span><span class="p">});</span> <span class="c1">// =&gt; new Point({x: 3, y: 2})</span>
</pre></div>

<h3>
<a name="uniontypes-name" class="anchor" href="#uniontypes-name"><span class="octicon octicon-link"></span></a>union(types, [name])</h3>

<p>Defines a types union.</p>

<ul>
<li>
<code>types</code> array of types</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">Circle</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
    <span class="nx">center</span><span class="o">:</span> <span class="nx">Point</span><span class="p">,</span>
    <span class="nx">radius</span><span class="o">:</span> <span class="nx">Num</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Rectangle</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
    <span class="nx">bl</span><span class="o">:</span> <span class="nx">Point</span><span class="p">,</span> <span class="c1">// bottom left vertex</span>
    <span class="nx">tr</span><span class="o">:</span> <span class="nx">Point</span>  <span class="c1">// top right vertex</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Shape</span> <span class="o">=</span> <span class="nx">union</span><span class="p">([</span>
    <span class="nx">Circle</span><span class="p">,</span> 
    <span class="nx">Rectangle</span>
<span class="p">]);</span>
</pre></div>

<h4>
<a name="isx-1" class="anchor" href="#isx-1"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> belongs to the union.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Shape</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="k">new</span> <span class="nx">Circle</span><span class="p">({</span><span class="nx">center</span><span class="o">:</span> <span class="nx">p</span><span class="p">,</span> <span class="nx">radius</span><span class="o">:</span> <span class="mi">10</span><span class="p">}));</span> <span class="c1">// =&gt; true</span>
</pre></div>

<h3>
<a name="maybetype-name" class="anchor" href="#maybetype-name"><span class="octicon octicon-link"></span></a>maybe(type, [name])</h3>

<p>Same as <code>union([Nil, type])</code>.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">MaybeStr</span> <span class="o">=</span> <span class="nx">maybe</span><span class="p">(</span><span class="nx">Str</span><span class="p">);</span>

<span class="nx">MaybeStr</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">'a'</span><span class="p">);</span>     <span class="c1">// =&gt; true</span>
<span class="nx">MaybeStr</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>    <span class="c1">// =&gt; true</span>
<span class="nx">MaybeStr</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>       <span class="c1">// =&gt; false</span>
</pre></div>

<h3>
<a name="enumsmap-name" class="anchor" href="#enumsmap-name"><span class="octicon octicon-link"></span></a>enums(map, [name])</h3>

<p>Defines an enum of strings.</p>

<ul>
<li>
<code>map</code> hash enum -&gt; value</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">Direction</span> <span class="o">=</span> <span class="nx">enums</span><span class="p">({</span>
    <span class="nx">North</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="nx">East</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">South</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="nx">West</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">});</span>
</pre></div>

<h4>
<a name="isx-2" class="anchor" href="#isx-2"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> belongs to the enum.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Direction</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">'North'</span><span class="p">);</span> <span class="c1">// =&gt; true</span>
</pre></div>

<h3>
<a name="tupletypes-name" class="anchor" href="#tupletypes-name"><span class="octicon octicon-link"></span></a>tuple(types, [name])</h3>

<p>Defines a tuple whose coordinates have the specified types.</p>

<ul>
<li>
<code>types</code> array of coordinates types</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">Area</span> <span class="o">=</span> <span class="nx">tuple</span><span class="p">([</span><span class="nx">Num</span><span class="p">,</span> <span class="nx">Num</span><span class="p">]);</span>
</pre></div>

<h4>
<a name="isx-3" class="anchor" href="#isx-3"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> belongs to the tuple.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Area</span><span class="p">.</span><span class="nx">is</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>      <span class="c1">// =&gt; true</span>
<span class="nx">Area</span><span class="p">.</span><span class="nx">is</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">]);</span>    <span class="c1">// =&gt; false, second element is not a Num</span>
<span class="nx">Area</span><span class="p">.</span><span class="nx">is</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>   <span class="c1">// =&gt; false, too many elements</span>
</pre></div>

<h4>
<a name="updateinstance-index-element-mut" class="anchor" href="#updateinstance-index-element-mut"><span class="octicon octicon-link"></span></a>update(instance, index, element, [mut])</h4>

<p>Returns an instance without modifying the original.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Area</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>    <span class="c1">// =&gt; [2, 2]</span>
</pre></div>

<h3>
<a name="subtypetype-predicate-name" class="anchor" href="#subtypetype-predicate-name"><span class="octicon octicon-link"></span></a>subtype(type, predicate, [name])</h3>

<p>Defines a subtype of an existing type.</p>

<ul>
<li>
<code>type</code> the supertype</li>
<li>
<code>predicate</code>: a function with signature <code>(x) -&gt; boolean</code>
</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">Int</span> <span class="o">=</span> <span class="nx">subtype</span><span class="p">(</span><span class="nx">Num</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// points of the first quadrant</span>
<span class="kd">var</span> <span class="nx">Q1Point</span> <span class="o">=</span> <span class="nx">subtype</span><span class="p">(</span><span class="nx">Point</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// constructor usage</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Q1Point</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">});</span> <span class="c1">// =&gt; fail!</span>
</pre></div>

<h4>
<a name="isx-4" class="anchor" href="#isx-4"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> belongs to the subtype.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Int</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>      <span class="c1">// =&gt; true</span>
<span class="nx">Int</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="mf">1.1</span><span class="p">);</span>    <span class="c1">// =&gt; false</span>
</pre></div>

<h3>
<a name="listtype-name" class="anchor" href="#listtype-name"><span class="octicon octicon-link"></span></a>list(type, [name])</h3>

<p>Defines an array where all elements are of type <code>type</code>.</p>

<ul>
<li>
<code>type</code> type of all the elements</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">Path</span> <span class="o">=</span> <span class="nx">list</span><span class="p">(</span><span class="nx">Point</span><span class="p">);</span>

<span class="c1">// costructor usage</span>
<span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Path</span><span class="p">([</span>
    <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span> 
    <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">]);</span>
</pre></div>

<h4>
<a name="isx-5" class="anchor" href="#isx-5"><span class="octicon octicon-link"></span></a>is(x)</h4>

<p>Returns <code>true</code> if <code>x</code> belongs to the list.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">0</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
<span class="nx">Path</span><span class="p">.</span><span class="nx">is</span><span class="p">([</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">]);</span> <span class="c1">// =&gt; true</span>
</pre></div>

<h4>
<a name="useful-methods" class="anchor" href="#useful-methods"><span class="octicon octicon-link"></span></a>Useful methods</h4>

<p>All of these methods return an instance without modifying the original.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Path</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="p">[</span><span class="nx">mut</span><span class="p">]);</span>
<span class="nx">Path</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="p">[</span><span class="nx">mut</span><span class="p">]);</span>
<span class="nx">Path</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="p">[</span><span class="nx">mut</span><span class="p">]);</span>
<span class="nx">Path</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="p">[</span><span class="nx">mut</span><span class="p">]);</span>
<span class="nx">Path</span><span class="p">.</span><span class="nx">move</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">,</span> <span class="p">[</span><span class="nx">mut</span><span class="p">]);</span>
</pre></div>

<h3>
<a name="funcarguments-f-return-name" class="anchor" href="#funcarguments-f-return-name"><span class="octicon octicon-link"></span></a>func(Arguments, f, [Return], [name])</h3>

<p><strong>Experimental</strong>. Defines a function where the <code>arguments</code> and the return value are checked.</p>

<ul>
<li>
<code>Arguments</code> the type of <code>arguments</code>
</li>
<li>
<code>f</code> the function to execute</li>
<li>
<code>Return</code> optional type of the return value</li>
<li>
<code>name</code> optional string useful for debugging</li>
</ul><p>Example</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="nx">tuple</span><span class="p">([</span><span class="nx">Num</span><span class="p">,</span> <span class="nx">Num</span><span class="p">]),</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">},</span> <span class="nx">Num</span><span class="p">);</span>

<span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// =&gt; 3</span>
<span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">);</span> <span class="c1">// =&gt; fail!</span>
</pre></div>

<h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul>
<li>more tests</li>
<li>jsDoc comments</li>
</ul><h2>
<a name="copyright--license" class="anchor" href="#copyright--license"><span class="octicon octicon-link"></span></a>Copyright &amp; License</h2>

<p>Copyright (C) 2014 Giulio Canti - Released under the MIT License.</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/gcanti">gcanti</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>